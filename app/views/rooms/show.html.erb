<!-- app/views/rooms/show.html.erb -->
<div class="bg-white rounded-lg shadow-lg overflow-hidden" style="height: calc(100vh - 200px);">
  <!-- Room Header -->
  <div class="bg-blue-600 text-white px-6 py-4 flex justify-between items-center">
    <div>
      <h2 class="text-2xl font-bold"><%= @room.name %></h2>
      <p class="text-blue-100 text-sm"><%= @room.description %></p>
    </div>
    <%= link_to "â† Back to Rooms", rooms_path, class: "text-white hover:underline" %>
  </div>
  
  <!-- Messages Container -->
  <div class="flex flex-col h-full">
    <!-- Messages List (Scrollable) -->
    <div id="messages" class="flex-1 overflow-y-auto p-6 space-y-4">
      <%= turbo_stream_from "room_#{@room.id}_messages" %>
      <%= render @messages %>
    </div>
    
    <!-- Message Form (Fixed at bottom) -->
    <div class="border-t p-4 bg-gray-50">
      <%= render "messages/form", message: @message, room: @room %>
    </div>
  </div>
</div>

<script>
  // Auto-scroll to bottom on new messages
  const messagesContainer = document.getElementById('messages');
  if (messagesContainer) {
    messagesContainer.scrollTop = messagesContainer.scrollHeight;
  }
</script>